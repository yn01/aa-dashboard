# Adobe Analytics ダッシュボード 要件計画書

## 概要
Adobe AnalyticsのCSV rawデータを分析するStreamlitダッシュボード

## 対象ユーザー
- **経営層向け**: シンプルで直感的なUI、KPIが一目で分かるデザイン

## データ仕様
- **形式**: CSVファイル（Data Warehouse/エクスポート）
- **規模**: 中規模（数十MB〜数百MB、数十万行）
- **取り込み方法**: ファイルアップロード

---

## 機能要件

### 1. データ取り込み機能
- CSVファイルのアップロード機能
- 複数ファイルの結合対応
- データプレビュー表示
- カラムマッピング設定（Adobe Analytics標準カラムの自動認識）

### 2. KPIサマリーダッシュボード（トップページ）
- **主要KPIカード表示**
  - 総PV数 / 総訪問者数 / 総セッション数
  - コンバージョン数 / コンバージョン率
  - 売上合計 / 平均注文単価
- **前期比較**（前日比、前週比、前月比）
- **トレンドスパークライン**

### 3. トラフィック分析ページ
- 日別/週別/月別のPV・訪問者推移グラフ
- 流入元別（参照元/メディア）の内訳
- デバイス別・ブラウザ別の分布
- 地域別ヒートマップ

### 4. コンバージョン分析ページ
- CVファネル可視化
- CV数・CV率の時系列推移
- 売上の時系列推移
- 商品カテゴリ別売上ランキング
- 流入元別CV貢献度

### 5. ユーザー行動分析ページ
- 人気ページランキング
- 離脱ページ分析
- 平均滞在時間・直帰率の推移
- ページ遷移サンキーダイアグラム（シンプル版）

### 6. フィルタリング機能
- 期間選択（日付範囲ピッカー）
- セグメント選択（デバイス、流入元、地域など）
- リアルタイムフィルタ適用

### 7. レポート出力機能
- PDFエクスポート
- CSVダウンロード（フィルタ適用後データ）

---

## 非機能要件

### パフォーマンス
- 中規模データ（数十万行）を5秒以内にロード
- キャッシュ機能でリロード高速化
- データの集計処理は事前計算

### UI/UX
- 経営層向けのシンプルで洗練されたデザイン
- モバイル対応（レスポンシブ）
- ダークモード/ライトモード切替

### セキュリティ
- アップロードファイルはセッション内のみ保持
- 機密データのローカル処理（外部送信なし）

---

## 技術スタック

| 項目 | 技術 |
|------|------|
| フレームワーク | Streamlit |
| データ処理 | Pandas, NumPy |
| 可視化 | Plotly, Altair |
| PDF出力 | pdfkit または reportlab |
| キャッシュ | Streamlit cache |

---

## 画面構成（案）

```
├── Home（KPIサマリー）
├── Traffic（トラフィック分析）
├── Conversion（CV・売上分析）
├── Behavior（ユーザー行動分析）
└── Settings（データ取込・設定）
```

---

## 今後の確認事項

1. **CSVのカラム構成**: 実際のデータサンプルがあれば、カラムマッピングを具体化
2. **KPIの定義**: コンバージョンの定義（購入、会員登録など）
3. **比較期間**: デフォルトの比較期間（前日/前週/前月）
4. **デプロイ環境**: ローカル実行 or クラウドデプロイ（Streamlit Cloud等）

---

## 開発フェーズ（案）

### Phase 1: 基盤構築
- プロジェクトセットアップ
- CSVアップロード・読み込み機能
- 基本的なデータ表示

### Phase 2: KPIダッシュボード
- KPIカード実装
- トレンドグラフ実装
- 期間フィルター実装

### Phase 3: 詳細分析ページ
- トラフィック分析ページ
- コンバージョン分析ページ
- ユーザー行動分析ページ

### Phase 4: 仕上げ
- PDF/CSVエクスポート機能
- UI/UXの調整
- パフォーマンス最適化
